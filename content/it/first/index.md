---
title: "Запихаем Asyncio в Multiprocessing"
date: 2020-03-15T20:19:08+03:00
type: it
draft: false
linkhabr: false
description: Запихаем Asyncio в Multiprocessing
image: default_open_graph.jpg
tags: [python,go]
---

Как то раз у меня появилась идея проверить как будет работать скрипт  c Asyncio внутри Multiprocessing. 
И посему я сразу же  затеял срач с коллегой о скоростях и начал воплощать код в жизнь.

<!--more-->
Скрипт что то там делает вот код:
{{< gist IzyI 2ff9806e09904641859a277071d8eb02 >}}

   На моем старом ноуте с i5ым на борту при очень многократном повторении,результаты примерно такие:
   <br>
   <b class="redic">Время в 2 процесса:</b> 7.511187391281128<br>
   <b class="redic">Время без процессов:</b> 5.495006561279297</p>
<br>

   При этом если удалить ту часть кода которая сохраняет картинку то результаты примерно такие-же. 
   Из чего я предполагаю что влияния шины (на которую я ставил ) здесь невелико .
   Гораздо большее влияние я получаю от создания <i>(тяжелых)</i> процессов.
   Также для полного самоудовлетворения я переписал это все на Go

{{< gist IzyI a61bd2422bda1559a0e29bb1b527c839 >}}
<br>
   Результаты в целом не сильно отличаются но тем не менее быстрее:
   <br>
   <b class="redic">Время выполнения: </b> 4.276871782<br>
   <br>

Скорее всего  это хуевый бенчмарки но че тут поделать.
